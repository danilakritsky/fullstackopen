{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Phonebook.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","newSearchTerm","newSearchTermHandler","react_default","a","createElement","value","onChange","PersonForm","props","onSubmit","submitHandler","newName","newNameHandler","newNumber","newNumberHandler","Phonebook","persons","deleteHandler","map","person","key","id","name","number","onClick","Notification","message","style","defaultStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","notificationStyle","Object","objectSpread","className","baseUrl","personService","getAll","axios","get","then","response","data","addPerson","newPerson","post","deletePerson","delete","concat","updatePersonData","updatedPerson","put","App","_useState","useState","_useState2","slicedToArray","setPersons","useEffect","initialPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewSearchTerm","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","setNotificationStyle","flashMessage","setTimeout","personsToShow","filter","toLowerCase","includes","exists","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","msgStyle","color","toConsumableArray","catch","error","confirmationPrompt","window","confirm","p","components_Phonebook","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.1f2a03f3.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Filter = ({ newSearchTerm, newSearchTermHandler }) => {\n    return (\n      <div>\n        filter shown with\n        <input value={newSearchTerm} onChange={newSearchTermHandler}/>\n      </div>\n    )\n}\n\nexport default Filter  ","import React from \"react\"\n\nconst PersonForm = (props) => {\n    return (\n      <form onSubmit={props.submitHandler}>\n        <div>\n          name:\n          <input value={props.newName} onChange={props.newNameHandler} />\n        </div>\n        <div>\n          number:\n          <input value={props.newNumber} onChange={props.newNumberHandler} />\n        </div>\n        <div>\n          <button>add</button>\n        </div>\n      </form>\n    )\n  \n}\n\nexport default PersonForm","import React from \"react\"\n\nconst Phonebook = ({ persons, deleteHandler }) => {\n    return (\n      <div>\n        {\n          persons.map(person =>\n              <div key={person.id}>\n                {person.name} {person.number}\n                <button key={person.id} \n                  onClick={() => deleteHandler(person.id)}\n                >\n                  delete\n                </button>\n              </div>\n           )\n        }\n      </div>  \n    )\n}\n\nexport default Phonebook","import React from \"react\"\n\nconst Notification = ({message, style}) => {\n\n  const defaultStyle = {\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px',\n  }\n\n  const notificationStyle = style ? {...defaultStyle, ...style} : defaultStyle\n\n  if (message === null)\n    return null\n  return (\n    <div\n      className=\"notification\"\n      style={notificationStyle}\n    >\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from \"axios\"\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data) \n}\n\nconst addPerson = (newPerson) => {\n  return (\n    axios\n    .post(baseUrl, newPerson)\n    .then(response => response.data)\n  )\n}\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n}\n\nconst updatePersonData = (id, updatedPerson) => {\n  return (\n    axios\n    .put(`${baseUrl}/${id}`, updatedPerson)\n    .then(response => response.data)\n  )\n}\n\nconst personService = {\n  getAll,\n  addPerson,\n  deletePerson,\n  updatePersonData,\n}\n\nexport default personService;","import React from \"react\"\n\nimport { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Phonebook from './components/Phonebook'\nimport Notification from \"./components/Notification\"\n\nimport personService from \"./services/persons\"\n\n\nconst App = () => {\n  \n  const [persons, setPersons] = useState([]);\n\n  useEffect(\n    () => {\n      personService\n        .getAll()\n        .then(initialPersons => setPersons(initialPersons))\n      },\n    [])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearchTerm, setNewSearchTerm] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [notificationStyle, setNotificationStyle] = useState(null)\n\n  const flashMessage = (message, style) => {\n    setNotificationMessage(message);\n    setNotificationStyle(style);\n    setTimeout(\n      () => {\n        setNotificationMessage(null);\n        setNotificationStyle(null)\n      },\n      5000\n    );\n  }\n\n  const newNameHandler = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const newNumberHandler = (event) => {\n    setNewNumber(event.target.value)\n  }\n  \n  const newSearchTermHandler = (event) => {\n    setNewSearchTerm(event.target.value)\n  }\n\n  const deletePersonHandler = (id) => {\n    const name = persons.filter(p => p.id === id)[0].name;\n    if (!name) flashMessage()\n    if (window.confirm(`Delete ${name}`)) {\n      setPersons(persons.filter(person => person.id !== id));\n      personService\n      .deletePerson(id)\n    }\n  }\n\n  const personsToShow = (newSearchTerm === '')\n    ? persons\n    : persons.filter(person =>\n        person.name.toLowerCase().includes(newSearchTerm.toLowerCase())\n      )\n\n  const submitPersonForm = (event) => {\n    event.preventDefault()\n    const newPerson = {name: newName, number: newNumber}\n    const msgStyle = {color: 'green'}\n\n    if (!(exists(newPerson))) {\n      personService\n      .addPerson(newPerson)\n      .then(newPerson => setPersons([...persons, newPerson]))\n      .catch(error => {\n        flashMessage(`${error.response.data.error}`, {color: 'red'})\n      });\n      setNewName('');\n      setNewNumber('');\n      flashMessage(`Added ${newPerson.name}`, msgStyle)\n\n      return\n    };\n\n    const confirmationPrompt = (\n      `${newPerson.name} is already added to phonebook, ` \n      + 'replace the old number with a new one?'\n    )\n    if (window.confirm(confirmationPrompt)) {\n      const id = persons.filter(p => p.name === newPerson.name)[0].id;\n      personService\n      .updatePersonData(id, newPerson)\n      .then(\n        updatedPerson => {\n          setPersons(persons.filter(p => p.id !== id).concat(updatedPerson));\n          flashMessage(`Updated ${newPerson.name}`, msgStyle);\n        }\n      )\n      .catch(\n        () => {\n          flashMessage(\n            `Information of ${newPerson.name} has already been removed from the server.`,\n            {color: 'red'}\n          );\n          setPersons(persons.filter(p => p.id !== id));\n        }\n      );\n      setNewName('');\n      setNewNumber('');\n    }\n      \n  }\n\n  const exists = ( { name } ) => {\n    const names = persons.map(person => person.name)\n    if (names.includes(name))\n      return true;\n    return false\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={notificationMessage}\n        style={notificationStyle}\n      />\n      <Filter\n        newSearchTerm={newSearchTerm}\n        newSearchTermHandler={newSearchTermHandler} \n      />\n      <h2>add a new</h2>\n      <PersonForm\n        submitHandler={submitPersonForm}\n        newName={newName}\n        newNameHandler={newNameHandler}\n        newNumber={newNumber}\n        newNumberHandler={newNumberHandler}\n      />\n      <h2>Numbers</h2>\n      <Phonebook\n        persons={personsToShow}\n        deleteHandler={deletePersonHandler}\n      />\n    </div>\n  )\n}\n\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}